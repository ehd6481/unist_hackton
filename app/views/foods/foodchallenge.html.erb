<html>
    <head>
        <style>
            div#poto1{
            width: 28em;
            height: 40em;
            float: left;
            background-image: url(https://todayeat-donggeol.c9users.io/assets/3.jpg);
            margin-left:1%;
            margin-top:5%;
            background-size:100% 100%;
            padding: 0px;
            margin-bottom:10%;

            }
            div#poto1:hover{
            opacity:0.4;}
            
            div#poto2{
            padding: 0px;
            width: 28em;
            height: 40em;
            float: right;
            background-image:url('2.jpg');
            margin-right:1%;
            margin-top:5%;
            background-size:100% 100%;
            margin-bottom:10%;
            }
            div#poto2:hover{
            opacity:0.4;
            }
        </style>
    </head>
    <body>
        <div class="container">
        <div class="row">
					<br></br>
			<div id="level" style="font-size:50px">32강</div>
			<div id="poto1" onclick="clickDiv(0);"></div>
			<div id="poto2" onclick="clickDiv(1);"></div>
			<div id="result" style="display:none;">
			<img src="이김1.gif" height="50%" style="margin-top:50%;"/>			
			</div>
			<div id="vs"> </div>
          <div class="col-lg-6">

          </div>
        </div>
</div>


<script>
  var ar = new Array();
        var temp;
        var rnum;
 
        for(var i=1; i<=32; i++){
            ar.push(i);
        }
 
        for(var i=0; i< ar.length ; i++)
        {
            rnum = Math.floor(Math.random() *32);
            temp = ar[i];
            ar[i] = ar[rnum];
            ar[rnum] = temp;
        }
 var a32=new Array();
 for(var i=0;i<32;i++){
a32.push(i);
     a32[i]='https://todayeat-donggeol.c9users.io/assets/'+ar[i]+'.jpg';
     
 }

   
   var a16 = [16], a8 = [8], a4 = [4], a2 = [2];
    var gang = 32, k = 0, ch = -1;
    var rannum = []; // 사진 random 배열   


      function randomArray(n){
       
         // random값 추출 함수
         function ranGenerator(max){
            return Math.floor((Math.random() * max));
         }
         
         //  강수 만큼 생성
         for(var i = 0; i < n.valueOf(); i++){
            rannum[i] = ranGenerator(n);
            
            // 사진 중복체크 
            for(var j = 0; j < i; j++ ){
               // 이전값과 비교하여 중복일경우 random 값 다시 생성
               if(rannum[i] == rannum[j]){
                  i = i - 1;
                  break;
               }
            }
		 }
		}
		
		var arr1 = a32;
		var arr2 = a16;
		
      
       function clickDiv(ch){
       if (gang == 1) {
         return ;
       }
       if (gang == 2) {
         if (ch == 0) endgame(arr1[rannum[k]]);
         else if (ch == 1) endgame(arr1[rannum[k+1]]);
         gang = 1;
         return ;
       }

       if(k < gang){
         if (ch == 0) arr2[k/2] = arr1[rannum[k]];
         else if (ch == 1) arr2[k/2] = arr1[rannum[k+1]];
       }
       k = k + 2;

       if(k >= gang) {
          gang = gang / 2;
          k = 0;
          randomArray(gang);
          document.getElementById("level").innerText = gang+"강";

          if(gang==16){
            arr1 = a16;
            arr2 = a8;
         }

          else if(gang==8){
            arr1 = a8;
            arr2 = a4;
         }

          else if(gang==4){
            arr1 = a4;
            arr2 = a2;
         }

         else if(gang==2){
           arr1 = a2;
        }

       }

       document.getElementById("poto1").style = 'background-image:url('+arr1[rannum[k]]+');';
       
       console.log("1번:"+k+"/"+rannum[k]);
       document.getElementById("poto2").style = 'background-image:url('+arr1[rannum[k+1]]+');';
       
       console.log("2번:"+(k+1)+"/"+rannum[k+1]);

      }
	  
  		 
	  function endgame(win){
      document.getElementById("poto2").style.display = 'none';
      document.getElementById("vs").style.display = 'none';
      document.getElementById("level").innerText = "당신의 선택은!!!!";
      document.getElementById("poto1").style = 'background-image:url('+win+'); opacity:1.0; animation: 2s myanim1; animation-iteration-count: 1;';
      document.getElementById("result").style.display = 'inline-block';
    }
		 
   
      randomArray(gang);
	  
	  document.getElementById("poto1").style = 'background-image:url('+arr1[rannum[0]]+');';
	  document.getElementById("poto2").style = 'background-image:url('+arr1[rannum[1]]+');';
	  
      

</script>
        
    </body>
</html>



